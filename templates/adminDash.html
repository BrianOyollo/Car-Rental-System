{% extends 'base.html' %}
{% load mathfilters %}

{% block lhs-content %}
{% endblock lhs-content %}

{% block main-content %}
    <style xmlns="http://www.w3.org/1999/html">
        .sidenav {
            float: left;
            background-color: black;
            border-radius: 5px;
            height: 100%;

        }

        .sidenav ul {
            padding: 0;
            width: 100%;
            height: 100%;
        }

        .sidenav li {
            list-style-type: none;
            display: block;
        }

        .sidenav li:hover {
            color: #4d375d;
        }

        .sidenav li a:hover {
            color: #4d375d;

        }

        .sidenav li a {
            text-decoration: none;
            width: 100%;
            padding: 5% 60px;
            color: white;

        }
    </style>
    <div class="sidenav border">
        <ul>
            <li class=" pt-3 pb-3" style="background-color: #212531"><a href="{% url 'admin' %}">Dashboard</a></li>
            <li class="pb-2 pt-2 text-left"><a class="text-left " href="{% url 'customers' %}">Customers</a></li>
            <li class="pb-2 pt-2 text-left"><a class="text-left " href="{% url 'agencies' %}">Agencies</a></li>
            <li class="pb-2 pt-2 text-left"><a class="text-left " href="{% url 'vehicles' %}">Vehicles</a></li>
            <li class="pb-2 pt-2 text-left"><a class="text-left " href="#home">Reports</a></li>
            <li class="pb-2 pt-2 text-left"><a class="text-left " href="#home">Bookings</a></li>
            <li class="pb-2 pt-2 text-left"><a class="text-left " href="#home">Fleet Mgt.</a></li>

        </ul>
    </div>
    <div class="dash-content border bg-light " style="float: left; padding-left: 3%; margin-right: 2%;width: 70%">
     {% block dash-items %}
        <h6 class="">Summaries</h6>
        <div class="dash-cards bg-white">
            <div class="d-flex flex-wrap ">
                <div class="p-2 m-2 bg-info text-center" style="border-radius:5px;width: 10rem; height: 7rem;">
                    <h5>Customers</h5>
                    <p>{{ customers }}</p>
                    <a href="{% url 'customers' %}" class="text-white" style="margin-top: -8px">view</a>
                </div>
                <div class="p-2 m-2 bg-success text-center" style="border-radius:5px; width: 10rem; height: 7rem;">
                    <h5>Agencies</h5>
                    <p>{{ agencies }}</p>
                    <a href="{% url 'agencies' %}" class="text-white" style="margin-top: -8px">view</a>
                </div>
                <div class="p-2 m-2 bg-primary text-center" style="border-radius:5px; width: 10rem; height: 7rem;">
                    <h5>Vehicles</h5>
                    <p>{{ cars_count }}</p>
                    <a href="{% url 'vehicles' %}" class="text-white" style="margin-top: -8px">view</a>
                </div>
                <div class="p-2 m-2 bg-dark text-center" style="border-radius:5px; width: 10rem; height: 7rem;">
                    <h5>Customers</h5>
                    <p>{{ customers }}</p>
                    <a href="#" class="text-white" style="margin-top: -8px">view</a>
                </div>
            </div>
        </div>
        </br>
        <h6 class="">Recent Bookings</h6>

        <table class="table table-sm table-striped">
            <thead class="bg-light">
            <tr>
                <th scope="col" class="">Vehicle</th>
                <th scope="col" class="">Customer</th>
                <th scope="col" class="">Drop-location</th>
                <th scope="col" class="">Return Date</th>
                <th scope="col" class="text-center">Action</th>

            </tr>
            </thead>
            <tbody class="bg-white">
            {% for booking in bookings %}
                <tr class="bg-white">
                    <td class="pr-4">{{ booking.car.RegNo }}</td>
                    <td class="pr-4">{{ booking.customer.username }}</td>
                    <td class="pr-4">{{ booking.dropoff_location }}</td>
                    <td class="pr-4">{{ booking.return_date }}</td>
                    <td class="pr-4"><a href="{% url 'booking-details' booking.id  %}" class="text-info" id="myBtn"><small>More Details</small></a> | <a
                            href="{% url 'update-booking-details' booking.id %}"
                            class="text-success"><small>Update</small></a>
                        | <a href="#" class="text-danger"><small>Delete</small></a></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
         {% endblock dash-items %}
    </div>
{% endblock main-content %}

{% block footer %}
{% endblock %}

